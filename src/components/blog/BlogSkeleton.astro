---
export interface Props {
    postCount: number;
}

const { postCount } = Astro.props;
const postGridCount = Math.max(0, postCount - 1);
---

<div class="space-y-8 animate-pulse">
    <div class="flex flex-wrap items-center justify-between gap-4 mb-8">
        <div class="flex-1 min-w-[200px] h-10 bg-zinc-200 dark:bg-zinc-800 rounded-md"></div>
        <div class="flex items-center gap-3 ml-auto">
            <div class="w-[150px] h-10 bg-zinc-200 dark:bg-zinc-800 rounded-md"></div>
            <div class="w-10 h-10 bg-zinc-200 dark:bg-zinc-800 rounded-md"></div>
        </div>
    </div>

    {
        postCount > 0 ? (
            <>
                <div class="mb-12">
                    <div class="w-full aspect-[2/1] bg-zinc-200 dark:bg-zinc-800 rounded-xl mb-4" />
                    <div class="h-8 bg-zinc-300 dark:bg-zinc-700 rounded w-2/3 mb-2" />
                    <div class="h-5 bg-zinc-300 dark:bg-zinc-700 rounded w-1/3 mb-1" />
                    <div class="h-4 bg-zinc-300 dark:bg-zinc-700 rounded w-3/4" />
                </div>

                {postCount > 1 && (
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        {Array.from({ length: postGridCount }).map((_, i) => (
                            <div class="rounded-lg overflow-hidden" key={i}>
                                <div class="h-48 bg-zinc-200 dark:bg-zinc-800 rounded-t-lg" />
                                <div class="p-4 space-y-2">
                                    <div class="h-6 bg-zinc-300 dark:bg-zinc-700 rounded w-2/3" />
                                    <div class="h-4 bg-zinc-300 dark:bg-zinc-700 rounded w-1/3" />
                                    <div class="h-3 bg-zinc-300 dark:bg-zinc-700 rounded w-1/2" />
                                </div>
                            </div>
                        ))}
                    </div>
                )}
            </>
        ) : (
            <div class="py-8 flex justify-center">
                <div class="h-5 w-40 bg-zinc-300 dark:bg-zinc-700 rounded" />
            </div>
        )
    }
</div>
