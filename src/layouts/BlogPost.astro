---
import type { CollectionEntry } from "astro:content";
import AppLayout from "./app/AppLayout.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<AppLayout title={title} description={description}>
    <article>
        <div class="w-full flex justify-center">
            {
                heroImage && (
                    <img
                        width={1020}
                        height={510}
                        src={heroImage}
                        alt=""
                        class="rounded-xl shadow-lg"
                    />
                )
            }
        </div>
        <div class="w-full max-w-prose px-4 md:px-8 py-4 text-gray-900 dark:text-gray-100">
            <div class="mb-4 py-4 text-center leading-tight">
                <div class="mb-2 text-gray-600 dark:text-gray-400">
                    <FormattedDate date={pubDate} />
                    {
                        updatedDate && (
                            <div class="italic">
                                Last updated on <FormattedDate date={updatedDate} />
                            </div>
                        )
                    }
                </div>
                <h1 class="mb-2">{title}</h1>
                <hr class="border-gray-200 dark:border-gray-800" />
            </div>
            <div
                class="prose prose-lg dark:prose-invert prose-headings:text-gray-900 dark:prose-headings:text-gray-100 prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-img:rounded-lg max-w-none"
            >
                <slot />
            </div>
        </div>
    </article>
</AppLayout>
